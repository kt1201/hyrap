## 로보어드바이저 수집/적재 환경

| 항목     | 환경      |  버전 | 설명                                                  |
| -------- | --------- | ----------------------------------------------------- | ----------------------------------------------------- |
| OS       | Windows | 10 | 키움증권 API는 OCX 기반이어서 Windows에서만 실행 가능 |
| 사용언어 | python    | 3.7.9 32bit | 키움증권 API는 32bit만 지원 |



### 로보어드바이저 수집기 주요 설치 라이브러리

```sh
pip3 install pykiwoom
pip3 install psycopg2
pip3 install sqlalchemy
pip3 install pandas
pip3 install numpy
```

위 라이브러리들은 반드시 수집기가 사용하는 python 32bit에 설치해야 합니다.



### 로보어드바이저 수집/적재 DB 정보

| DB 종류 | host IP | Port | Database | UserName | Password |
| - | - | - | - | - | - |
| Postgresql | localhost | 5432 | hadoop | hadoop |  |



## 로보어드바이저 수집/적재 테이블 정보

### 테이블 리스트
| 테이블명 | 테이블 정보 | 수집방법 | 적재방식 | 설명 | 배치주기 | 소요시간 |
| - | - | - | - | - | - | - |
| company_fs | 연도별재무재표 | fnguide API | Insert | 2012~2020년도 까지의 각 기업별 재무재표 정보 | 연배치 |  |
| news | 뉴스 | Naver 검색 API | Insert | 각 기업별 주식 관련 뉴스 | 3시간 배치 | 00:30:00 |
| opt10001 | 주식기본정보요청 | 키움증권 API | Truncate & Insert | 상장 기업들의 작년 12월 결산 기준 정보<br>모든 상장 기업 데이터 존재 | 일배치 | 03:30:00 |
| opt10027 | 전일대비등락률상위요청 | 키움증권 API | Truncate & Insert | 등락률 상위 종목 데이터 수집 | 일배치 | 00:00:01 |
| opt10030 | 당일거래량상위요청 | 키움증권 API | Truncate & Insert | 거래량 상위 데이터 수집 | 일배치 | 00:00:01 |
| opt10033 | 신용비율상위요청 | 키움증권 API | Truncate & Insert | 신용비율 상위 데이터 수집 | 일배치 | 00:00:01 |
| opt10081 | 주식일봉차트조회요청 | 키움증권 API | Insert | 1985년도부터 종목별 일봉 데이터 수집 | 일배치 | 04:00:00 |
| opt10082 | 주식주봉차트조회요청 | 키움증권 API | Insert | 1985년도부터 종목별 주봉 데이터 수집 | 주배치 | 03:30:00 |
| opt10083 | 주식월봉차트조회요청 | 키움증권 API | Insert | 1985년도부터 종목별 월봉 데이터 수집 | 월배치 | 03:30:00 |
| opt10086 | 일별주가요청 | 키움증권 API | Truncate & Insert | 종목별 20일치 일별 주가 데이터 수집 | 일배치 | 03:30:00 |
| opt20002 | 업종별주가요청 | 키움증권 API | Truncate & Insert | 업종별 종목 데이터 수집 | 일배치 | 00:05:00 |
| opt20003 | 전업종지수요청 | 키움증권 API | Truncate & Insert | 업종별 지수 데이터 수집 | 일배치 | 00:00:05 |
| opt20006 | 업종일봉조회요청 | 키움증권 API | Insert | 1985년도부터 업종별 일봉 데이터 수집 | 일배치 | 00:05:00 |
| opt20007 | 업종주봉조회요청 | 키움증권 API | Insert | 1985년도부터 업종별 주봉 데이터 수집 | 주배치 | 00:05:00 |
| opt20008 | 업종월봉조회요청 | 키움증권 API | Insert | 1985년도부터 업종별 월봉 데이터 수집 | 월배치 | 00:05:00 |
| opt90002 | 테마구성종목요청 | 키움증권 API | Truncate & Insert | 테마별 종목 데이터 수집 | 일배치 | 00:08:00 |
| sector | 업종리스트 | 키움증권 고객센터 요청 |  | 업종 리스트 |  |  |
| theme | 테마리스트 | 키움증권 고객센터 요청 |  | 테마 리스트 |  |  |
| stock | 종목리스트 | 키움증권 API |  |  | 일배치 | 00:00:05 |
| kospi_200 | 코스피200 종목리스트 | 구글 검색 |  |  |  |  |
<br>

### 배치 정보

| 배치주기  | 트리거                               | 배치 명령어                                     | 로그파일 저장경로      | 테이블                                                       | 설명                                                         |
| --------- | ------------------------------------ | ----------------------------------------------- | ---------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 시간 배치 | 매일 오전 12시부터 3시간 주기로 실행 | python batch.py time                            | log\\{테이블 이름}.log | news                                                         | - Naver 검색 API 최대허용량 제한 고려하여 3시간 주기 설정    |
| 일 배치   | 매일 오전 7시 실행                   | python batch.py day<br/>(python은 32bit 버전)   | log\\{테이블 이름}.log | stock<br>opt10001<br>opt10027<br>opt10030<br>opt10033<br>opt10081<br>opt10086<br>opt20002<br>opt20003<br>opt20006<br>opt90002 | - 키움API의 점검시간을 피해서 실행하기 위해 7시 배치 시작<br>- 키움증권 API의 조회제한 때문에 수집의 병렬처리가 불가하기 때문에 다른 키움증권 API를 이용하는 배치와 겹치지 않는 시간으로 설정 |
| 주 배치   | 매주 화요일 오전 12시 실행           | python batch.py week<br/>(python은 32bit 버전)  | log\\{테이블 이름}.log | opt10082<br>opt20007                                         | - 키움증권 API의 조회제한 때문에 수집의 병렬처리가 불가하기 때문에 다른 키움증권 API를 이용하는 배치와 겹치지 않는 시간으로 설정<br>- 매주 월요일에 키움증권 API의 주봉 데이터가 업데이트 됨으로 하루 뒤인 화요일에 실행 |
| 월 배치   | 매월 둘째주 수요일 오전 12시 실행    | python batch.py month<br/>(python은 32bit 버전) | log\\{테이블 이름}.log | opt10083<br>opt20008                                         | - 키움증권 API의 조회제한 때문에 수집의 병렬처리가 불가하기 때문에 다른 키움증권 API를 이용하는 배치와 겹치지 않는 시간으로 설정<br/>- 매월 첫째주 월요일에 키움증권 API의 월봉 데이터가 업데이트 됨으로 둘째주 수요일에 실행(해당 월의 첫주 시작 요일이 월요일이 아닐수도 있기 때문) |
| 연 배치   | 미적용                               |                                                 | log\\{테이블 이름}.log | company_fs                                                   |                                                              |

<br>


### 테이블별 컬럼 정보

##### company_fs
| 컬럼명 |  타입 | 기본키 | 단위 | 설명 |
| - | - | - | - | - |
|종목코드| VARCHAR(50) |PK|||
|종목명| TEXT ||||
|기준년도| VARCHAR(50) |PK|||
|자산총계| FLOAT ||천원||
|유동자산| FLOAT ||천원||
|비유동자산| FLOAT ||천원||
|부채총계| FLOAT ||천원||
|유동부채| FLOAT ||천원||
|이자발생부채| FLOAT ||천원|단기사채+단기차입금+유동성장기부채+단기금융부채(단기매매금융부채+당기손익인식+금융리스부채+단기상환우선주)+사채+장기차입금+장기금융부채|
|순부채| FLOAT ||천원|사채+장기차입금+장기금융부채+단기사채+단기차입금+유동성장기부채+단기금융부채-단기금융자산-현금및현금성자산|
|비유동부채| FLOAT ||천원||
|자본총계| FLOAT ||천원||
|자본총계\_지배| FLOAT ||천원||
|자본금| BIGINT ||천원||
|자본잉여금| FLOAT ||천원||
|이익잉여금| FLOAT ||천원||
|비지배주주지분| FLOAT ||천원||
|매출액| FLOAT ||천원||
|매출원가| FLOAT ||천원||
|매출총이익| FLOAT ||천원||
|판매비와관리비| FLOAT ||천원||
|영업이익| FLOAT ||천원|매출총이익-판매비와관리비|
|금융수익| FLOAT ||천원||
|금융비용| FLOAT ||천원||
|기타영업외수익| FLOAT ||천원||
|기타영업외비용| FLOAT ||천원||
|감가상각비\_판관비| BIGINT ||천원|감가상각비+개발비상각+기타무형자산상각비|
|세전계속사업이익| FLOAT ||천원||
|당기순이익| FLOAT ||천원||
|당기순이익\_지배| FLOAT ||천원||
|당기순이익\_비지배| FLOAT ||천원||
|영업활동으로인한현금흐름| FLOAT ||천원||
|감가상각비\_현금흐름표| FLOAT ||천원||
|운전자본증감| FLOAT ||천원||
|투자활동으로인한현금흐름| FLOAT ||천원||
|CAPEX| FLOAT ||천원||
|재무활동으로인한현금흐름| FLOAT ||천원||
|영업투자재무활동기타현금흐름| TEXT ||천원||
|현금의증가| FLOAT ||천원|현|
|FreeCashFlow2| FLOAT ||천원|영업활동으로인한현금흐름-유형자산의증가|
|EBITDA2| FLOAT ||천원|영업이익+(현금흐름표)감가상각비|
|EBIT| FLOAT ||천원|법인세비용차감전계속사업이익+이자비용-이자수익|
|IC| FLOAT ||천원|(재고자산+매출채권및기타채권+기타유동자산-매입채무및기타채무-기타유동부채+유형자산+무형자산+생물자산+기타비유동자산)|
|NOPLAT| FLOAT ||천원|(영업이익*(1-(법인세비용/법인세비용차감전계속사업이익))+이연법인세부채-이연법인세부채+이연법인세자산-이연법인세자산|
|EV| FLOAT ||천원|순부채+전체지수산정시가총액(기말)|
|EV2| FLOAT ||천원|순부채+(비지배주주지분)자본총계+전체지수산정시가총액(기말)|
|매출총이익률| FLOAT ||%|매출총이익/매출액|
|영업이익률| FLOAT ||%|영업이익/매출액|
|순이익률| FLOAT ||%|당기순이익/매출액|
|EBITDA2마진율| FLOAT ||%|EBITDA2/매출액|
|ROE\_지배| FLOAT ||%|(지배주주지분)당기순이익/(((자본총계-비지배주주지분+(자본총계-비지배주주지분)/2)|
|ROA| FLOAT ||%|당기순이익/((자산총계+자산총계)/2)|
|ROIC| FLOAT ||%|(NOPLAT/투하자본(IC))*100 *투하자본(IC)가 음수(-)일 경우, 산출하지 않음|
|매출액증가율\_YoY| FLOAT ||%|(매출액-매출액)/ABS(매출액)|
|매출액증가율\_QoQ| TEXT ||%|(매출액-매출액)/ABS(매출액)|
|영업이익증가율\_YoY| FLOAT ||%|(영업이익-영업이익)/ABS(영업이익)|
|영업이익증가율\_QoQ| TEXT ||%|(영업이익-영업이익)/ABS(영업이익)|
|순이익증가율\_YoY| FLOAT ||%|(당기순이익-당기순이익)/ABS(당기순이익)|
|순이익증가율\_QoQ| TEXT ||%|(당기순이익-당기순이익)/ABS(당기순이익)|
|순이익증가율\_지배\_YoY| FLOAT ||%|(당기순이익(지배)-당기순이익(지배))/ABS(당기순이익(지배))|
|순이익증가율\_지배\_QoQ| TEXT ||%|(당기순이익(지배)-당기순이익(지배))/ABS(당기순이익(지배))|
|EBITDA2증가율\_YoY| FLOAT ||%|(EBITDA2-EBITDA2)/ABS(EBITDA2)|
|EBITDA2증가율\_QoQ| TEXT ||%|(EBITDA2-EBITDA2)/ABS(EBITDA2)|
|EBIT증가율\_YoY| FLOAT ||%|(EBIT-EBIT)/ABS(EBIT)|
|EBIT증가율\_QoQ| TEXT ||%|(EBIT-EBIT)/ABS(EBIT)|
|부채비율| FLOAT ||%|부채총계/자본총계|
|유동비율| FLOAT ||%|유동자산/유동부채|
|자기자본비율| FLOAT ||%|자본총계/자산총계|
|이자보상배율| FLOAT ||배|영업이익/이자비용|
|비유동비율| FLOAT ||%|비유동자산/자본총계|
|차입금비율| FLOAT ||%|이자발생부채/자본총계|
|순부채비율| FLOAT ||%|순부채/자본총계|
|자본유보율| FLOAT ||%|(자본잉여금+이익잉여금)/자본금|
|총자산회전율| FLOAT ||비율|매출액/((자산총계+자산총계/2)|
|매출채권회전율| FLOAT ||비율|매출액/(((장기매출채권+매출채권)+(장기매출채권+매출채권)/2)|
|재고자산회전율| FLOAT ||비율|매출액/((재고자산+재고자산/2)|
|매입채무회전율| FLOAT ||비율|매출액/(((장기매입채무+매입채무)+(장기매입채무+매입채무)/2)|
|타인자본회전율| FLOAT ||비율|매출액/((부채총계+부채총계)/2)|
|자기자본회전율| FLOAT ||비율|매출액/((자본총계+자본총계)/2)|
|자본금회전율| FLOAT ||비율|매출액/((자본금+자본금)/2)|
|EPS\_지배| FLOAT ||원/주|(지배주주지분)당기순이익/(보통주수정평균발행주식수+우선주수정평균발행주식수)|
|BPS\_지배| FLOAT ||원/주|(자본총계-비지배주주지분)/(보통주수정기말발행주식수(자사주차감)+우선주수정기말발행주식수(자사주차감))|
|CPS| FLOAT ||원/주|영업활동으로인한현금흐름/(보통주수정평균발행주식수+우선주수정평균발행주식수)|
|CEPS| FLOAT ||원/주|Cash Earnings/(보통주수정평균발행주식수+우선주수정평균발행주식수)|
|SPS| FLOAT ||원/주|매출액/(보통주수정평균발행주식수+우선주수정평균발행주식수)|
|EBITDA2PS| FLOAT ||원/주|EBITDA2*1000/보통주수정평균발행주식수+우선주수정평균발행주식수|
|EBITPS| FLOAT ||원/주|EBIT/(보통주수정평균발행주식수+우선주수정평균발행주식수)|
|NetDebt/Share| FLOAT ||원/주|순부채/(보통주수정기말발행주식수+우선주수정기말발행주식수)|
|EPS증가율\_YoY| FLOAT ||%|연간 주당순이익 증가율|
|EPS증가율\_QoQ| TEXT ||%|분기간 주당순이익 증가율|
|BPS증가율\_YoY| FLOAT ||%|연간 주당순자산 증가율|
|BPS증가율\_QoQ| TEXT ||%|분기간 주당순자산 증가율|
|수정DPS\_보통주\_기말현금| TEXT ||원/주||
|수정DPS\_보통주\_연간현금| BIGINT ||원/주||
|수정DPS\_우선주\_기말현금| TEXT ||원/주||
|수정DPS\_우선주\_연간현금| FLOAT ||원/주||
|현금배당성향| FLOAT ||%|현금배당액(전체, 연간)/당기순이익|
|현금배당률\_보통주\_기말\_액면가| TEXT ||%|(DPS(보통주, 기말현금)/액면가)|
|현금배당률\_보통주\_연간\_액면가| BIGINT ||%|(DPS(보통주, 연간현금)/액면가)|
|현금배당수익률\_보통주\_연간\_수정주가| FLOAT ||%|(수정DPS(보통주, 연간현금)/보통주수정주가(연말))|
|현금배당수익률\_우선주\_연간\_수정주가| TEXT ||%|(수정DPS(1우선주, 연간현금)/1우선주수정주가(연말))|
|시가배당률\_보통주\_기말\_KRX기준| TEXT ||%|DPS(보통주, 기말현금) / 배당관련 주주명부폐쇄일 2매매거래일전부터 과거1주일 보통주종가의 평균|
|P/E| FLOAT ||배|보통주수정주가(연말)/EPS(지배주주지분,Adj., Wgt.)|
|P/B| FLOAT ||배|보통주수정주가(기말)/BPS(지배주주지분,Adj.)|
|P/C| FLOAT ||배|보통주수정주가(기말)/CPS(Adj., Wgt.)|
|P/CE| FLOAT ||배|보통주수정주가(기말)/(Cash Earnings/(보통주수정평균발행주식수+우선주수정평균발행주식수))|
|P/S| FLOAT ||배|보통주수정주가(기말)/SPS(Adj., Wgt.)|
|P/FCF2| FLOAT ||배|보통주수정주가(기말)[t]/nullif(FCF2[t]*1000/nullif(보통주수정평균발행주식수[t]+우선주수정평균발행주식수[t],0))|
|PEG\_YoY| FLOAT ||배|PER[t]/3년 평균EPS증가율(지배주주지분) *PER 음수(-)일 경우 산출하지 않음|
|EV/EBITDA2| FLOAT ||배|EV/EBITDA2|
|EV/EBIT| FLOAT ||배||
|EV/Sales| FLOAT ||배|EV/매출액|

<br>

##### news

| 컬럼명     | 타입        | 기본키 | 단위 |
| ---------- | ----------- | ------ | ---- |
| stock_code | VARCHAR(50) | PK     |      |
| title      | TEXT        |        |      |
| link       | TEXT        | PK     |      |
| reg_date   | TEXT        |        |      |

<br>

##### opt10001
| 컬럼명 |  타입 | 기본키 | 단위 |
| - | - | - | - |
| 종목코드 | VARCHAR(50) | PK |  |
| 종목명 | TEXT |  |  |
| 결산월 | INTEGER |  | 월 |
| 액면가 | FLOAT |  | 액면가 단위 컬럼 참고 |
| 자본금 | INTEGER |  | 억원 |
| 상장주식 | INTEGER |  | 천주 |
| 신용비율 | FLOAT |  | % |
| 연중최고 | INTEGER |  | 원 |
| 연중최저 | INTEGER |  | 원 |
| 시가총액 | INTEGER |  | 억원 |
| 시가총액비중 | FLOAT |  | % |
| 외인소진률 | FLOAT |  | % |
| 대용가 | INTEGER |  | 원 |
| PER | FLOAT |  | 배 |
| EPS | INTEGER |  | 원 |
| ROE | FLOAT |  | % |
| PBR | FLOAT |  | 배 |
| EV | FLOAT |  | 억원 |
| BPS | INTEGER |  | 원 |
| 매출액 | INTEGER |  | 억원 |
| 영업이익 | INTEGER |  | 억원 |
| 당기순이익 | INTEGER |  | 억원 |
| 250최고 | INTEGER |  | 원 |
| 250최저 | INTEGER |  | 원 |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
| 상한가 | INTEGER |  | 원 |
| 하한가 | INTEGER |  | 원 |
| 기준가 | INTEGER |  | 원 |
| 예상체결가 | INTEGER |  | 원 |
| 예상체결수량 | INTEGER |  | 주 |
| 250최고가일 | DATE |  |  |
| 250최고가대비율 | FLOAT |  | % |
| 250최저가일 | DATE |  |  |
| 250최저가대비율 | FLOAT |  | % |
| 현재가 | INTEGER |  | 원 |
| 대비기호 | INTEGER |  |  |
| 전일대비 | INTEGER |  | 원 |
| 등락율 | FLOAT |  | % |
| 거래량 | BIGINT |  | 주 |
| 거래대비 | FLOAT |  | % |
| 액면가단위 | TEXT |  |  |
| 유통주식 | INTEGER |  | 주 |
| 유통비율 | FLOAT |  | % |
<br>

##### opt10027
| 컬럼명       | 타입        | 기본키 | 단위 |
| ------------ | ----------- | ------ | ---- |
| 종목분류     | VARCHAR(50) |        |      |
| 시장구분     | VARCHAR(50) |        |      |
| 종목코드     | VARCHAR(50) | PK     |      |
| 종목명       | TEXT        |        |      |
| 현재가       | INTEGER     |        | 원   |
| 전일대비기호 | INTEGER     |        |      |
| 전일대비     | INTEGER     |        |      |
| 등락률       | FLOAT       |        | %    |
| 매도잔량     | BIGINT      |        | 건   |
| 매수잔량     | BIGINT      |        | 건   |
| 현재거래량   | BIGINT      |        | 주   |
| 체결강도     | FLOAT       |        | %    |
| 횟수         | INTEGER     |        |      |
<br>

##### opt10030
| 컬럼명       | 타입        | 기본키 | 단위   |
| ------------ | ----------- | ------ | ------ |
| 시장구분     | VARCHAR(50) |        |        |
| 종목코드     | VARCHAR(50) | PK     |        |
| 종목명       | TEXT        |        |        |
| 현재가       | INTEGER     |        | 원     |
| 전일대비기호 | INTEGER     |        |        |
| 전일대비     | INTEGER     |        | 원     |
| 등락률       | FLOAT       |        | %      |
| 거래량       | BIGINT      |        | 주     |
| 전일비       | FLOAT       |        | %      |
| 거래회전율   | FLOAT       |        | %      |
| 거래금액     | BIGINT      |        | 백만원 |

<br>

##### opt10033
| 컬럼명       | 타입        | 기본키 | 단위 |
| ------------ | ----------- | ------ | ---- |
| 시장구분     | VARCHAR(50) |        |      |
| 종목정보     | VARCHAR(50) |        |      |
| 종목코드     | VARCHAR(50) | PK     |      |
| 종목명       | TEXT        |        |      |
| 현재가       | INTEGER     |        | 원   |
| 전일대비기호 | INTEGER     |        |      |
| 전일대비     | INTEGER     |        | 원   |
| 등락률       | FLOAT       |        | %    |
| 신용비율     | FLOAT       |        | %    |
| 매도잔량     | BIGINT      |        | 건   |
| 매수잔량     | BIGINT      |        | 건   |
| 현재거래량   | BIGINT      |        | 주   |

<br>

##### opt10081
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 거래대금 | BIGINT |  | 원 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
<br>

##### opt10082
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 거래대금 | BIGINT |  | 원 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
<br>

##### opt10083
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 거래대금 | BIGINT |  | 원 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
<br>

##### opt10086
| 컬럼명     | 타입        | 기본키 | 단위   |
| ---------- | ----------- | ------ | ------ |
| 종목코드   | VARCHAR(50) | PK     |        |
| 날짜       | DATE        | PK     |        |
| 시가       | INTEGER     |        | 원     |
| 고가       | INTEGER     |        | 원     |
| 저가       | INTEGER     |        | 원     |
| 종가       | INTEGER     |        | 원     |
| 전일비     | INTEGER     |        | 원     |
| 등락률     | FLOAT       |        | %      |
| 거래량     | BIGINT      |        | 주     |
| 금액       | BIGINT      |        | 백만원 |
| 신용비     | FLOAT       |        | %      |
| 개인       | INTEGER     |        | 주     |
| 기관       | INTEGER     |        | 주     |
| 외인수량   | INTEGER     |        | 주     |
| 외국계     | INTEGER     |        | 주     |
| 프로그램   | INTEGER     |        | 주     |
| 외인비     | FLOAT       |        | %      |
| 체결강도   | FLOAT       |        |        |
| 외인보유   | FLOAT       |        | %      |
| 외인비중   | FLOAT       |        | %      |
| 외인순매수 | INTEGER     |        | 주     |
| 기관순매수 | INTEGER     |        | 주     |
| 개인순매수 | INTEGER     |        | 주     |
| 신용잔고율 | FLOAT       |        | %      |
<br>

##### opt20002

| 컬럼명       | 타입        | 기본키 | 단위 |
| ------------ | ----------- | ------ | ---- |
| 업종코드     | VARCHAR(50) | PK     |      |
| 업종명       | TEXT        |        |      |
| 종목코드     | VARCHAR(50) | PK     |      |
| 종목명       | TEXT        |        |      |
| 현재가       | INTEGER     |        | 원   |
| 전일대비기호 | INTEGER     |        |      |
| 전일대비     | INTEGER     |        | 원   |
| 등락률       | FLOAT       |        | %    |
| 현재거래량   | INTEGER     |        | 주   |
| 매도호가     | INTEGER     |        | 원   |
| 매수호가     | INTEGER     |        | 원   |
| 시가         | INTEGER     |        | 원   |
| 고가         | INTEGER     |        | 원   |
| 저가         | INTEGER     |        | 원   |

<br>

##### opt20003

| 컬럼명     | 타입        | 기본키 | 단위   |
| ---------- | ----------- | ------ | ------ |
| 업종코드   | VARCHAR(50) | PK     |        |
| 업종명     | TEXT        |        |        |
| 현재가     | FLOAT       |        |        |
| 대비기호   | INTEGER     |        |        |
| 전일대비   | FLOAT       |        |        |
| 등락률     | FLOAT       |        | %      |
| 거래량     | BIGINT      |        | 주     |
| 비중       | FLOAT       |        |        |
| 거래대금   | BIGINT      |        | 백만원 |
| 상한       | INTEGER     |        | 종목   |
| 상승       | INTEGER     |        | 종목   |
| 보합       | INTEGER     |        | 종목   |
| 하락       | INTEGER     |        | 종목   |
| 하한       | INTEGER     |        | 종목   |
| 상장종목수 | INTEGER     |        | 종목   |

<br>

##### opt20006

| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 업종코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
| 거래대금 | BIGINT |  | 백만원 |
<br>

##### opt20007
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 업종코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
| 거래대금 | BIGINT |  | 백만원 |
<br>

##### opt20008
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 업종코드 | VARCHAR(50) | PK |  |
| 현재가 | INTEGER |  | 원 |
| 거래량 | BIGINT |  | 주 |
| 일자 | DATE | PK |  |
| 시가 | INTEGER |  | 원 |
| 고가 | INTEGER |  | 원 |
| 저가 | INTEGER |  | 원 |
| 거래대금 | BIGINT |  | 백만원 |
<br>

##### opt90002
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 | VARCHAR(50) | PK |  |
| 종목명 | TEXT |  |  |
| 테마코드 | VARCHAR(50) | PK |  |
<br>

##### sector
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 업종코드 | VARCHAR(50) | PK |  |
| 업종명 | TEXT |  |  |
<br>

##### theme
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 테마코드 | VARCHAR(50) | PK |  |
| 테마명 | TEXT |  |  |
<br>

##### stock
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 |  VARCHAR(50) | PK |  |
| 종목명 |  TEXT |  |  |
<br>

##### kospi_200
| 컬럼명 |  타입 | 기본키 | 설명 |
| - | - | - | - |
| 종목코드 |  VARCHAR(50) | PK |  |
| 종목명 |  TEXT |  |  |
<br>